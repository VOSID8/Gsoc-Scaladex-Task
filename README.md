# GSoc ScalaDex Task: Asynchronous Sum of Even Squares Calculator

This repository contains a web application built using the Play Framework in Scala for Gsoc Scaladex Task. The application calculates the sum of squares of even numbers up to a given limit asynchronously.

## Table of Contents

- [Getting Started](#getting-started)
  - [Prerequisites](#prerequisites)
  - [Installation](#installation)
- [Running the Application](#running-the-application)
- [Usage](#usage)
- [Code Structure and Explaination](#code-structure-and-explaination)
- [Testing](#testing)

## Getting Started

### Prerequisites

- [Java Development Kit (JDK)](https://adoptopenjdk.net/) version 8 or above
- [sbt](https://www.scala-sbt.org/) (Scala Build Tool)

### Installation

1. Clone this repository to your local machine:

   ```bash
   git clone https://github.com/VOSID8/Gsoc-Scaladex-Task.git
   ```

2. Navigate to the project directory:

   ```bash
   cd Gsoc-Scaladex-Task
   ```

## Running the Application

Run the following command to start the Play application:

```bash
sbt run
```

Once the application is running, you can access it at `http://localhost:9000`.

## Usage

- Visit the homepage to see the input form.
- Enter a positive integer value in the input field.
- Submit the form.
- The application will calculate the sum of squares of even numbers from 1 up to the entered value.
- The result will be displayed on the page
- You can try another input with button

## Code Structure and explaination

The application code is organized as follows:

- `app/HomeController`: Contains the main logic for handling requests and calculating the sum of even squares.
- `app/views/`: Contains HTML templates for rendering the UI.

### HomeController Class

The `HomeController` class is the main controller responsible for handling HTTP requests and generating responses.

#### index() Method

```scala
def index() = Action { implicit request: Request[AnyContent] =>
  Ok(views.html.index())
}
```

- **Explanation:** This method handles requests to the root endpoint (`/`) of the application.
- **Thought Process:** It returns an HTTP response with the HTML content generated by the `index.scala.html` template, which typically renders the homepage of the web application.

#### calculateSumOfEvenSquares(n: Int) Method

```scala
def calculateSumOfEvenSquares(n: Int): Future[Int] = {
  val evenNumbersFuture = Future {
    (1 to n).filter(_ % 2 == 0) 
  }
  val squareFutures = for {
    evenNumbers <- evenNumbersFuture
  } yield {
    evenNumbers.map(x => x * x).sum 
  }
  squareFutures
}
```

- **Explanation:** This method asynchronously calculates the sum of squares of even numbers up to a given limit `n`.
- **Thought Process:** 
  - It starts by creating a `Future` to calculate even numbers up to `n`.
  - Then, it uses a `for` comprehension to map over the result of the `Future` and calculate the sum of squares of even numbers.
  - Finally, it returns a `Future` containing the sum of squares.

#### index2() Method

```scala
def index2() = Action { implicit request: Request[AnyContent] =>
  val postVals = request.body.asFormUrlEncoded
  postVals match {
    case Some(args) =>
      val result = for {
        n <- args.get("value").flatMap(_.headOption).map(_.toInt)
        result <- Some(Await.result(calculateSumOfEvenSquares(n), Duration.Inf))
      } yield {
        if (n == 0) Ok(views.html
          .result(n, result,"Input can't be zero, Consider re-entering correct inputs"))
        else if (n < 0) Ok(views.html
          .result(n, result,"Input can't be negative, Consider re-entering correct inputs"))
        else Ok(views.html
          .result(n, result,"The sum of squares of even numbers from 1 upto " + n + " is " + result))
      }
      result.getOrElse(Ok("Failed to calculate result")) 
    case None => Ok(views.html.index()) 
  }
}
```

- **Explanation:** This method handles form submissions to calculate the sum of squares of even numbers.
- **Thought Process:**
  - It extracts the form values submitted by the user.
  - If form values are present, it parses the integer value submitted as `n` and calculates the sum of squares of even numbers using `calculateSumOfEvenSquares` method.
  - Depending on the value of `n`, it renders different views with appropriate messages.
  - If form values are not present, it renders the homepage.


## Testing

This project includes unit tests using ScalaTest, a popular testing framework for Scala. Tests are located in the `Testing` class within the `test` directory.

### Running Tests

To run the tests, execute the following command:

```bash
sbt test
```

### Test Cases

The following test cases are included:

1. **calculateSumOfEvenSquares should return the sum of squares of even numbers up to n**: 
   - This test verifies that the `calculateSumOfEvenSquares` method in the `HomeController` class correctly calculates the sum of squares of even numbers up to a given limit.
   - It checks if the method returns the expected sum of squares for a positive integer `n`.

2. **calculateSumOfEvenSquares should return 0 when n is 0**: 
   - This test verifies the behavior of the `calculateSumOfEvenSquares` method when `n` is 0.
   - It checks if the method returns 0 when `n` is 0.

3. **calculateSumOfEvenSquares should return 0 when n is negative**: 
   - This test ensures that the `calculateSumOfEvenSquares` method handles negative values of `n` correctly.
   - It checks if the method returns 0 when `n` is negative.

### Dependencies

The testing dependencies used in this project include:

- `org.scalatestplus.play` for testing Play Framework controllers and actions.
- `org.scalatest.concurrent` for handling asynchronous testing with ScalaFutures.

